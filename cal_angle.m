% 计算角度% 输入：1、一个 m行 2列 的二维数组 arr%           2、坐标序号 i        % 输出：1、两条线段的角度function segment= cal_angle(segment,i)x0 = segment(i,1);x1 = segment(i+1,1);x2 = segment(i+2,1);y0 = segment(i,2);y1 = segment(i+1,2);y2 = segment(i+2,2);a = (x0-x1)^2+(y0-y1)^2;a = sqrt(a);b = (x2-x1)^2+(y2-y1)^2;b = sqrt(b);c = (x0-x2)^2+(y0-y2)^2;c = sqrt(c);cos_i =(a*a+b*b-c*c)/(2*a*b);ANGLE= (acos(cos_i)/pi)*180;ANGLE=round(ANGLE);if (ANGLE>=165) &&(ANGLE<=180)    segment(i,15)=1;elseif (ANGLE>90) &&(ANGLE<165)    segment(i,15)=-1;elseif (ANGLE>=0) &&(ANGLE<=90)    segment(i,15)=-2;endsegment(i,7)=ANGLE;end